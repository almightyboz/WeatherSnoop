<p id="notice"><%= notice %></p>
<div class="container current">
  <p>For the next few hours, expect <%= @hourly %></p>

  <div class="weather-data">
    <p>Want more details? Of course you do!</p>
    <% @currently.each do | category, data | %>
      <p><%= "The #{category} is currently #{data}." %></p>
    <% end %>
  </div>
</div>

<aside>
  <div class="chart" id="temperature"></div>
  <div class="chart" id="wind-speed" ></div>
  <div class="chart" id="precip"></div>
<aside>

<script>

var yearList = <%= @years.to_json.html_safe %>;
var minTemp = <%= @min_temperatures.to_json.html_safe %>;
var maxTemp = <%= @max_temperatures.to_json.html_safe %>;

var chart0 = c3.generate({
  bindto: "#temperature",
  data: {
    x: 'x',
    columns: [
      yearList,
      maxTemp,
      minTemp
    ]
  }
});

var windSpeed = <%= @wind_speed.to_json.html_safe %>;

var chart1 = c3.generate({
    bindto: "#wind-speed",
    data: {
      x: 'x',
      columns: [
        yearList,
        windSpeed
      ]
    }
});

var precipProb = <%= @precip_prob.to_json.html_safe %>;

var chart2 = c3.generate({
  bindto: "#precip",
  data: {
    x: 'x',
    columns: [
    yearList,
    precipProb
    ]
  },
});

</script>
